{
  "info": {
    "name": "Installment Order & Payment System",
    "description": "Complete API collection for installment-based order management",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000/api/installment"
    },
    {
      "key": "auth_token",
      "value": ""
    },
    {
      "key": "admin_token",
      "value": ""
    },
    {
      "key": "order_id",
      "value": ""
    },
    {
      "key": "product_id",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "User - Order Management",
      "item": [
        {
          "name": "Create Order (Wallet)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productId\": \"{{product_id}}\",\n  \"totalDays\": 30,\n  \"paymentMethod\": \"WALLET\",\n  \"deliveryAddress\": {\n    \"name\": \"John Doe\",\n    \"phoneNumber\": \"9876543210\",\n    \"addressLine1\": \"123 Main Street\",\n    \"addressLine2\": \"Apartment 4B\",\n    \"city\": \"Mumbai\",\n    \"state\": \"Maharashtra\",\n    \"pincode\": \"400001\",\n    \"landmark\": \"Near Central Park\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/orders",
              "host": ["{{base_url}}"],
              "path": ["orders"]
            }
          }
        },
        {
          "name": "Create Order (Razorpay)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productId\": \"{{product_id}}\",\n  \"totalDays\": 60,\n  \"dailyAmount\": 500,\n  \"paymentMethod\": \"RAZORPAY\",\n  \"deliveryAddress\": {\n    \"name\": \"Jane Smith\",\n    \"phoneNumber\": \"9123456789\",\n    \"addressLine1\": \"456 Oak Avenue\",\n    \"city\": \"Delhi\",\n    \"state\": \"Delhi\",\n    \"pincode\": \"110001\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/orders",
              "host": ["{{base_url}}"],
              "path": ["orders"]
            }
          }
        },
        {
          "name": "Get My Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/orders?limit=20&page=1",
              "host": ["{{base_url}}"],
              "path": ["orders"],
              "query": [
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "status",
                  "value": "ACTIVE",
                  "disabled": true
                }
              ]
            }
          }
        },
        {
          "name": "Get Order Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/orders/{{order_id}}",
              "host": ["{{base_url}}"],
              "path": ["orders", "{{order_id}}"]
            }
          }
        },
        {
          "name": "Get Order Summary",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/orders/{{order_id}}/summary",
              "host": ["{{base_url}}"],
              "path": ["orders", "{{order_id}}", "summary"]
            }
          }
        },
        {
          "name": "Get Payment Schedule",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/orders/{{order_id}}/schedule",
              "host": ["{{base_url}}"],
              "path": ["orders", "{{order_id}}", "schedule"]
            }
          }
        },
        {
          "name": "Get Order Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/orders/stats",
              "host": ["{{base_url}}"],
              "path": ["orders", "stats"]
            }
          }
        },
        {
          "name": "Cancel Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Found a better deal elsewhere\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/orders/{{order_id}}/cancel",
              "host": ["{{base_url}}"],
              "path": ["orders", "{{order_id}}", "cancel"]
            }
          }
        }
      ]
    },
    {
      "name": "User - Payment Processing",
      "item": [
        {
          "name": "Create Razorpay Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": \"{{order_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/payments/create-razorpay-order",
              "host": ["{{base_url}}"],
              "path": ["payments", "create-razorpay-order"]
            }
          }
        },
        {
          "name": "Process Payment (Wallet)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": \"{{order_id}}\",\n  \"paymentMethod\": \"WALLET\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/payments/process",
              "host": ["{{base_url}}"],
              "path": ["payments", "process"]
            }
          }
        },
        {
          "name": "Process Payment (Razorpay)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": \"{{order_id}}\",\n  \"paymentMethod\": \"RAZORPAY\",\n  \"razorpayOrderId\": \"order_MXkj8d9sKLm2Pq\",\n  \"razorpayPaymentId\": \"pay_MXkjN8kLm2PqRs\",\n  \"razorpaySignature\": \"signature_from_razorpay_callback\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/payments/process",
              "host": ["{{base_url}}"],
              "path": ["payments", "process"]
            }
          }
        },
        {
          "name": "Get My Payments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/payments/my-payments?limit=50&page=1",
              "host": ["{{base_url}}"],
              "path": ["payments", "my-payments"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "status",
                  "value": "COMPLETED",
                  "disabled": true
                }
              ]
            }
          }
        },
        {
          "name": "Get Payment History for Order",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/payments/history/{{order_id}}",
              "host": ["{{base_url}}"],
              "path": ["payments", "history", "{{order_id}}"]
            }
          }
        },
        {
          "name": "Get Next Due Payment",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/payments/next-due/{{order_id}}",
              "host": ["{{base_url}}"],
              "path": ["payments", "next-due", "{{order_id}}"]
            }
          }
        },
        {
          "name": "Get Payment Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/payments/stats",
              "host": ["{{base_url}}"],
              "path": ["payments", "stats"]
            }
          }
        }
      ]
    },
    {
      "name": "Admin - Dashboard",
      "item": [
        {
          "name": "Get Dashboard Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/orders/dashboard/stats",
              "host": ["{{base_url}}"],
              "path": ["admin", "orders", "dashboard", "stats"]
            }
          }
        },
        {
          "name": "Get All Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/orders/all?limit=50&page=1",
              "host": ["{{base_url}}"],
              "path": ["admin", "orders", "all"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "status",
                  "value": "ACTIVE",
                  "disabled": true
                },
                {
                  "key": "deliveryStatus",
                  "value": "PENDING",
                  "disabled": true
                }
              ]
            }
          }
        },
        {
          "name": "Get Completed Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/orders/completed?deliveryStatus=PENDING",
              "host": ["{{base_url}}"],
              "path": ["admin", "orders", "completed"],
              "query": [
                {
                  "key": "deliveryStatus",
                  "value": "PENDING"
                }
              ]
            }
          }
        },
        {
          "name": "Get Pending Approval Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/orders/pending-approval",
              "host": ["{{base_url}}"],
              "path": ["admin", "orders", "pending-approval"]
            }
          }
        },
        {
          "name": "Get Order Details (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/orders/{{order_id}}",
              "host": ["{{base_url}}"],
              "path": ["admin", "orders", "{{order_id}}"]
            }
          }
        },
        {
          "name": "Approve Delivery",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/orders/{{order_id}}/approve-delivery",
              "host": ["{{base_url}}"],
              "path": ["admin", "orders", "{{order_id}}", "approve-delivery"]
            }
          }
        },
        {
          "name": "Update Delivery Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"SHIPPED\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/orders/{{order_id}}/delivery-status",
              "host": ["{{base_url}}"],
              "path": ["admin", "orders", "{{order_id}}", "delivery-status"]
            }
          }
        },
        {
          "name": "Add Admin Notes",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Customer requested expedited shipping. Approved.\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/orders/{{order_id}}/notes",
              "host": ["{{base_url}}"],
              "path": ["admin", "orders", "{{order_id}}", "notes"]
            }
          }
        },
        {
          "name": "Get All Payments (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{admin_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/payments/all?limit=50&page=1",
              "host": ["{{base_url}}"],
              "path": ["admin", "payments", "all"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "status",
                  "value": "COMPLETED",
                  "disabled": true
                },
                {
                  "key": "paymentMethod",
                  "value": "WALLET",
                  "disabled": true
                }
              ]
            }
          }
        }
      ]
    }
  ]
}
